<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.chiatso.fileupdownloadpractice.dao.UserFileDao">

    <!--findByUserId-->
    <select id="findByUserId" resultType="UserFile">
        select id,
               oldFileName,
               newFileName,
               ext,
               path, size, type, isImg, downloadCount,
            uploadTime, userId
        from t_files
        where userId = #{id}
    </select>

    <!--save-->
    <insert id="save" useGeneratedKeys="true" keyProperty="id">
        insert into t_files
        values (#{id}, #{oldFileName}, #{newFileName}, #{ext},
                #{path}, #{size}, #{type}, #{isImg}, #{downloadCount},
                #{uploadTime}, #{userId})
    </insert>
</mapper>